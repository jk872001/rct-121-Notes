{"ast":null,"code":"import _regeneratorRuntime from\"C:/rct-121-Notes/rct-121.e.1_522288/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _objectSpread from\"C:/rct-121-Notes/rct-121.e.1_522288/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"C:/rct-121-Notes/rct-121.e.1_522288/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/rct-121-Notes/rct-121.e.1_522288/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from\"react\";import axios from\"axios\";import Button from\"./components/Button\";import CandidateCard from\"./components/CandidateCard\";import\"./styles.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function App(){var _useState=useState(true),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],setError=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),data=_useState6[0],setData=_useState6[1];var _useState7=useState(1),_useState8=_slicedToArray(_useState7,2),page=_useState8[0],setPage=_useState8[1];var _useState9=useState(\"asc\"),_useState10=_slicedToArray(_useState9,2),rating=_useState10[0],setRating=_useState10[1];var _useState11=useState(\"asc\"),_useState12=_slicedToArray(_useState11,2),costOrder=_useState12[0],setCostOrder=_useState12[1];useEffect(function(){fetchData({page:page,rating:rating,costOrder:costOrder});},[page,rating,costOrder]);var fetchData=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(_ref){var page,rating,costOrder,paramsForPayment;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:page=_ref.page,rating=_ref.rating,costOrder=_ref.costOrder;setLoading(true);paramsForPayment={};_context.next=5;return axios({method:\"GET\",url:\"https://json-server-mocker-masai.herokuapp.com/candidates\",params:_objectSpread({_page:page,_limit:5,_sort:\"rating,costOrder\",_order:\"\".concat(rating,\", \").concat(costOrder)},paramsForPayment)}).then(function(res){setData(res.data);setLoading(false);// console.log(res);\n}).catch(function(err){setError(true);setLoading(false);});case 5:case\"end\":return _context.stop();}}},_callee);}));return function fetchData(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[loading&&/*#__PURE__*/_jsx(\"div\",{id:\"loading-container\",children:\"...Loading\"}),/*#__PURE__*/_jsx(Button,{id:\"SORT_BUTTON\",title:\"Sort by Ascending Salary\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{id:\"SORT_BUTTON\",disabled:rating===\"desc\",onClick:function onClick(){return setRating(\"desc\");},children:\"Cost by desc\"}),/*#__PURE__*/_jsx(\"button\",{id:\"SORT_BUTTON\",disabled:rating===\"asc\",onClick:function onClick(){return setRating(\"asc\");},children:\"Cost by asc\"})]}),/*#__PURE__*/_jsx(Button,{title:\"PREV\",id:\"PREV\"}),/*#__PURE__*/_jsx(Button,{id:\"NEXT\",title:\"NEXT\"}),/*#__PURE__*/_jsx(\"button\",{id:\"PREV\",disabled:page===1,onClick:function onClick(){return setPage(page-1);},children:\"prev\"}),/*#__PURE__*/_jsx(\"button\",{id:\"NEXT\",onClick:function onClick(){return setPage(page+1);},children:\"next\"})]}),/*#__PURE__*/_jsx(PaginationComponent,{currentPage:page,lastPage:5,onPageChange:setPage}),\" \",/*#__PURE__*/_jsx(\"br\",{}),data.map(function(item){return/*#__PURE__*/_jsx(CandidateCard,_objectSpread({},item),item.id);})]});}var PaginationComponent=function PaginationComponent(_ref3){var currentPage=_ref3.currentPage,lastPage=_ref3.lastPage,onPageChange=_ref3.onPageChange;var arr=new Array(lastPage).fill(0);return/*#__PURE__*/_jsx(\"div\",{children:arr.map(function(item,page){return/*#__PURE__*/_jsxs(\"button\",{onClick:function onClick(){return onPageChange(page+1);},disabled:page+1===currentPage,children:[\" \",page+1,\" \"]});})});};","map":{"version":3,"names":["useEffect","useState","axios","Button","CandidateCard","App","loading","setLoading","error","setError","data","setData","page","setPage","rating","setRating","costOrder","setCostOrder","fetchData","paramsForPayment","method","url","params","_page","_limit","_sort","_order","then","res","catch","err","map","item","id","PaginationComponent","currentPage","lastPage","onPageChange","arr","Array","fill"],"sources":["C:/rct-121-Notes/rct-121.e.1_522288/src/App.js"],"sourcesContent":["\nimport { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport Button from \"./components/Button\";\nimport CandidateCard from \"./components/CandidateCard\";\nimport \"./styles.css\";\n\nexport default function App() {\n  \n  const [loading, setLoading] = useState(true);         \n  const [error, setError] = useState(false);\n  const [data, setData] = useState([]);               \n  const [page, setPage] = useState(1);\n  const [rating, setRating] = useState(\"asc\");          \n  const [costOrder , setCostOrder] = useState(\"asc\")\n  useEffect(() => {\n    fetchData({page, rating, costOrder,})   \n  }, [page,rating,costOrder]);\n\n  const fetchData = async({page, rating, costOrder}) => {\n    setLoading(true);\n    const paramsForPayment = {}\n   \n    await axios({\n      method: \"GET\",\n      url: \"https://json-server-mocker-masai.herokuapp.com/candidates\",\n      params : {\n        _page : page,\n        _limit : 5,\n       _sort : \"rating,costOrder\",\n        _order : `${rating}, ${costOrder}`,\n         \n        ...paramsForPayment\n      }\n    })\n      .then((res) => {\n        setData(res.data);\n        setLoading(false); \n        // console.log(res);\n      })\n      .catch((err) => {\n        setError(true);\n        setLoading(false);\n      });\n\n  }\n\n  return (\n    <div className=\"App\">\n      <div>\n      {loading && <div id=\"loading-container\">...Loading</div> }\n        \n        <Button id=\"SORT_BUTTON\" title={`Sort by Ascending Salary`} />\n\n        <div>\n          <button id=\"SORT_BUTTON\" disabled={rating===\"desc\"} onClick={()=>setRating(\"desc\")}>\n            Cost by desc\n            </button>\n          <button id=\"SORT_BUTTON\" disabled={rating===\"asc\"} onClick={()=>setRating(\"asc\")}>\n            Cost by asc\n            </button>\n        </div>\n\n        \n      \n\n      \n        <Button title=\"PREV\" id=\"PREV\" />\n        <Button id=\"NEXT\" title=\"NEXT\" />\n        <button id=\"PREV\" disabled={page===1} onClick={() => setPage(page-1)}>prev</button>\n      <button id=\"NEXT\" onClick={() => setPage(page+1)}>next</button>\n      </div>\n      <PaginationComponent currentPage={page} lastPage={5} onPageChange={setPage}/> <br />\n      {data.map((item) => (\n        <CandidateCard key={item.id} {...item} />\n      ))}\n    </div>\n  );\n}\n\nconst PaginationComponent = ({\n  currentPage,\n  lastPage,\n  onPageChange\n}) => {\n  const arr = new Array(lastPage).fill(0);\n  return (\n    <div>\n      {\n        arr.map( (item, page) => (<button onClick={()=>onPageChange(page+1)} disabled={(page+1)===currentPage}> {page+1} </button>))\n      }\n    </div>\n  )\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}